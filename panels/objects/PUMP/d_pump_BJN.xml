<?xml version="1.0" encoding="UTF-8"?>
<panel version="14">
 <properties>
  <prop name="Name">
   <prop name="ru_RU.utf8"></prop>
  </prop>
  <prop name="Size">400 398</prop>
  <prop name="BackColor">_3DFace</prop>
  <prop name="RefPoint">58 42.95238095238094</prop>
  <prop name="InitAndTermRef">True</prop>
  <prop name="SendClick">False</prop>
  <prop name="RefFileName"></prop>
  <prop name="DPI">96</prop>
  <prop name="layoutType">None</prop>
 </properties>
 <events>
  <script name="ScopeLib" isEscaped="1"><![CDATA[enum Directions{
  Up = 0,
  Right = 1,
  Down = 2,
  Left = 3
};

public Directions Direct = Directions::Right;

#property Directions Direct
public Directions getDirect(){
  return Direct;
}
public void setDirect(Directions v){
  Direct = v;
  initArrow();
}

#property bool but
public void setBut(bool b){
  btn_fp.visible(b);
}
public bool getBut(){
  return btn_fp.visible;
}

const string DP = $dp;

void cbStatus(string dp, bit32 val){
  if(getBit(val, 28)){
    el_sts.backCol(&quot;&lt;green,4,White,4&gt;&quot;);
  }else if(getBit(val,29)){
    el_sts.backCol(&quot;&lt;yellow,4,White,4&gt;&quot;);
  }else if(getBit(val, 26)){
    el_sts.backCol(&quot;green&quot;);
  }else if(getBit(val, 27)){
    el_sts.backCol(&quot;grey&quot;);
  }else{
    el_sts.backCol(&quot;WF_Border&quot;);
  }

  lbl_imit.visible(getBit(val, 16));
  txt_maint.visible(getBit(val, 11));
  el_fault.visible = (getBit(val, 17) || getBit(val, 20) || getBit(val, 21));
}

public void initArrow(){
  switch((int)Direct){
    case 0:
      setMultiValue(&quot;ar_up&quot;, &quot;visible&quot;, true,
                    &quot;ar_right&quot;, &quot;visible&quot;, false,
                    &quot;ar_down&quot;, &quot;visible&quot;, false,
                    &quot;ar_left&quot;, &quot;visible&quot;, false);
       break;
    case 1:
      setMultiValue(&quot;ar_up&quot;, &quot;visible&quot;, false,
                    &quot;ar_right&quot;, &quot;visible&quot;, true,
                    &quot;ar_down&quot;, &quot;visible&quot;, false,
                    &quot;ar_left&quot;, &quot;visible&quot;, false);
       break;
    case 2:
      setMultiValue(&quot;ar_up&quot;, &quot;visible&quot;, false,
                    &quot;ar_right&quot;, &quot;visible&quot;, false,
                    &quot;ar_down&quot;, &quot;visible&quot;, true,
                    &quot;ar_left&quot;, &quot;visible&quot;, false);
       break;
    case 3:
      setMultiValue(&quot;ar_up&quot;, &quot;visible&quot;, false,
                    &quot;ar_right&quot;, &quot;visible&quot;, false,
                    &quot;ar_down&quot;, &quot;visible&quot;, false,
                    &quot;ar_left&quot;, &quot;visible&quot;, true);
       break;
    default:
      setMultiValue(&quot;ar_up&quot;, &quot;visible&quot;, false,
                    &quot;ar_right&quot;, &quot;visible&quot;, false,
                    &quot;ar_down&quot;, &quot;visible&quot;, false,
                    &quot;ar_left&quot;, &quot;visible&quot;, false);
       break;
  }
}

const string dp = $dp;
const string Lock_fp = $Lfp;
const string Lock_dp = $Ldp;

void cbStatus(string dpe, bit32 val){
  if(getBit(val, 24)){
    el_sts.backCol(&quot;green&quot;);
  }else if(getBit(val, 25)){
    el_sts.backCol(&quot;grey&quot;);
  }else if(getBit(val, 26)){
    el_sts.backCol(&quot;RanLock&quot;);
  }else if(getBit(val, 27)){
    el_sts.backCol(&quot;StopLock&quot;);
  }else{
    el_sts.backCol(&quot;WF_Border&quot;);
  }

}
]]></script>
  <script name="Initialize" isEscaped="1"><![CDATA[main(){
  btn_fp.backCol(&quot;_Transparent&quot;);

  txt_name.text(&quot;Насос &quot; + dpGetDescription(dp + &quot;.sts_bit&quot;));
  dpConnect(&quot;cbStatus&quot;, dp + &quot;.sts_bit&quot;);
}


]]></script>
 </events>
 <shapes>
  <shape Name="RECTANGLE1" shapeType="RECTANGLE" layerId="0">
   <properties>
    <prop name="serialId">18</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">116 32</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">{255,255,255}</prop>
    <prop name="TabOrder">17</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">False</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">0.9189189189189189 0 0 1 5.405405405405406 0</prop>
    <prop name="BorderStyle">Normal</prop>
    <prop name="Location">116 32</prop>
    <prop name="Size">-75 17</prop>
    <prop name="CornerRadius">0</prop>
    <prop name="Transformable">True</prop>
   </properties>
  </shape>
  <shape Name="el_sts" shapeType="ELLIPSE" layerId="0">
   <properties>
    <prop name="serialId">1</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">116 88</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">{255,255,255}</prop>
    <prop name="TabOrder">0</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">True</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">1 0 0 1 -38 -10</prop>
    <prop name="Center">116 88</prop>
    <prop name="X-Radius">29</prop>
    <prop name="Y-Radius">29</prop>
   </properties>
  </shape>
  <shape Name="btn_fp" shapeType="PUSH_BUTTON" layerId="0">
   <properties>
    <prop name="serialId">10</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">44.5 66.73146239134684</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">_Transparent</prop>
    <prop name="BackColor">{0,255,0,86}</prop>
    <prop name="TabOrder">9</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="Font">
     <prop name="ru_RU.utf8">MS Shell Dlg 2,-1,13,5,50,0,0,0,0,0</prop>
    </prop>
    <prop name="Location">44.49999999999999 35.85891689137939</prop>
    <prop name="Size">69 72</prop>
    <prop name="BorderStyle">None</prop>
    <prop name="Text">
     <prop name="ru_RU.utf8">PUSH_BUTTON1</prop>
    </prop>
   </properties>
   <events>
    <script name="Clicked" isEscaped="1"><![CDATA[main(mapping event){

//   if (getUserPermission(4)){
     ChildPanelOnCentral(&quot;panels\\objects\\LOCK\\LOCK&quot; + Lock_fp + &quot;.xml&quot;, &quot;Блокировки &quot; + &quot;Npump&quot;, makeDynString(&quot;$dp:&quot; + Lock_dp, &quot;$dpNA:&quot; + dp));
//   }
//   else {
//     DebugN(&quot;Недостаточно прав у пользователя&quot;);
//     ChildPanelOnCentral(&quot;faceplates/NoAccessRights.xml&quot;, &quot;&quot;, makeDynString(&quot;&quot;));
//   }
}]]></script>
   </events>
  </shape>
  <shape Name="txt_name" shapeType="PRIMITIVE_TEXT" layerId="0">
   <properties>
    <prop name="serialId">13</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">78 38</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">_WindowText</prop>
    <prop name="BackColor">_Window</prop>
    <prop name="TabOrder">12</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">False</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[outline]</prop>
    <prop name="Location">78 38</prop>
    <prop name="Font">
     <prop name="ru_RU.utf8">MS Shell Dlg 2,-1,13,5,50,0,0,0,0,0</prop>
    </prop>
    <prop name="Text">
     <prop name="ru_RU.utf8">Насос Н-№</prop>
    </prop>
    <prop name="Distance">2</prop>
    <prop name="BorderOffset">2</prop>
    <prop name="Bordered">False</prop>
    <prop name="Fit">True</prop>
    <prop name="Transformable">False</prop>
    <prop name="TextFormat">[0s,,,AlignHCenter|AlignVCenter]</prop>
   </properties>
  </shape>
  <shape Name="ar_right" shapeType="POLYGON" layerId="0">
   <properties>
    <prop name="serialId">14</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">280 100</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">WF_Border</prop>
    <prop name="TabOrder">13</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">True</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">4.151882264190041e-17 -0.1356107660455486 -0.1627329192546585 -4.982258717028055e-17 123.2732919254658 115.9710144927536</prop>
    <prop name="Closed">True</prop>
    <prop name="Points">
     <prop name="Location">280 100</prop>
     <prop name="Location">220 200</prop>
     <prop name="Location">340 200</prop>
    </prop>
   </properties>
  </shape>
  <shape Name="ar_down" shapeType="POLYGON" layerId="0">
   <properties>
    <prop name="serialId">15</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">280 100</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">WF_Border</prop>
    <prop name="TabOrder">14</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">True</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">0.1356107660455486 0 0 -0.1627329192546585 40.0289855072464 123.2732919254658</prop>
    <prop name="Closed">True</prop>
    <prop name="Points">
     <prop name="Location">280 100</prop>
     <prop name="Location">220 200</prop>
     <prop name="Location">340 200</prop>
    </prop>
   </properties>
  </shape>
  <shape Name="ar_left" shapeType="POLYGON" layerId="0">
   <properties>
    <prop name="serialId">16</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">280 100</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">WF_Border</prop>
    <prop name="TabOrder">15</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">True</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">-4.151882264190041e-17 0.1356107660455486 0.1627329192546585 4.982258717028055e-17 32.72670807453416 40.02898550724639</prop>
    <prop name="Closed">True</prop>
    <prop name="Points">
     <prop name="Location">280 100</prop>
     <prop name="Location">220 200</prop>
     <prop name="Location">340 200</prop>
    </prop>
   </properties>
  </shape>
  <shape Name="ar_up" shapeType="POLYGON" layerId="0">
   <properties>
    <prop name="serialId">17</prop>
    <prop name="Type"></prop>
    <prop name="RefPoint">280 100</prop>
    <prop name="Enable">True</prop>
    <prop name="Visible">True</prop>
    <prop name="ForeColor">{0,0,0}</prop>
    <prop name="BackColor">WF_Border</prop>
    <prop name="TabOrder">16</prop>
    <prop name="ToolTipText">
     <prop name="ru_RU.utf8"></prop>
    </prop>
    <prop name="layoutAlignment">AlignNone</prop>
    <prop name="snapMode">Point</prop>
    <prop name="DashBackColor">_Transparent</prop>
    <prop name="AntiAliased">True</prop>
    <prop name="LineType">[solid,oneColor,JoinBevel,CapProjecting,1]</prop>
    <prop name="BorderZoomable">False</prop>
    <prop name="FillType">[solid]</prop>
    <prop name="Geometry">-0.1356107660455486 0 0 0.1627329192546585 115.9710144927536 32.72670807453415</prop>
    <prop name="Closed">True</prop>
    <prop name="Points">
     <prop name="Location">280 100</prop>
     <prop name="Location">220 200</prop>
     <prop name="Location">340 200</prop>
    </prop>
   </properties>
  </shape>
 </shapes>
</panel>
